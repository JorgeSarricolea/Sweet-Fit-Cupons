---
import Header from "@/components/Header.astro";
import UsersCuponsTable from "@/components/tables/UsersCuponsTable.astro";
import Layout from "@/components/Layout.astro";
import { getCombinedData } from "@/js/handlers/handlerUsersCupons.js";

const usersCupons = await getCombinedData();
---

<Layout title={"User-Cupons"} description={"Cupones-Usuarios"}>
  <Header />
  <div class="flex flex-col h-screen justify-center items-center border p-16">
    <div class="flex flex-row justify-between w-full px-16 py-1">
      <h2 class="text-4xl font-bold text-primary mb-8">Cupónes</h2>
      <form action="" class="flex gap-4 justify-end h-10 w-1/3">
        <input
          type="text"
          placeholder="Buscar correo o código"
          class="pl-4 w-2/3 border border-primary rounded-md p-1"
        />
        <input
          type="submit"
          value="Buscar"
          class="bg-primary text-white p-1 rounded-md w-1/5"
        />
      </form>
    </div>
    <div class="h-full w-full overflow-y-auto rounded-lg shadow-2xl p-5">
      <UsersCuponsTable tableData={usersCupons} />
    </div>
  </div>
</Layout>

<script src="../js/auth.js"></script>
